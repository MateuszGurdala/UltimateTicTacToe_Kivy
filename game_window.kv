<AnchorLayout>
    anchor_x: "center"
    anchor_y: "center"

<GameWindow>
    BoxLayout:
        canvas:
            Rectangle:
                size: self.size
                pos: self.pos
                source: "graphics/game_screen/background_graphic.png"
        orientation: "vertical"
        size: self.parent.size
        spacing: 0

        # Empty layout just for correct spacing
        AnchorLayout:
            size_hint: 1, 2/16
############################################ MAP/LOG ###################################################################
        BoxLayout:
            size_hint: 1, 13/16
            orientation: "vertical"
            spacing: 6
            padding: 6

            # Game Map
            AnchorLayout:
                canvas:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: "graphics/game_screen/game_map_background.png"
                id: game_map_layout
                size_hint: 1, 10/13
                GameMap:
                    id: game_map

            # Game Log
            AnchorLayout:
                canvas:
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        source: "graphics/game_screen/game_log_background.png"
                id: game_log_layout
                size_hint: 1, 3/13
############################################ UTILITY BUTTONS ###########################################################
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 1/16
            spacing: 4
            padding: 4

            # Extend Game Log
            AnchorLayout:
                SwitchButton:
                    size_hint: 1, 1
                    normal: 1, 1
                    press: 0.95, 0.95
                    source: "graphics/game_screen/extend_normal.png"
                    normal_image: "graphics/game_screen/extend_normal.png"
                    switch_image: "graphics/game_screen/extend_switched.png"
                    on_release:
                        app.root.game_screen.extend_game_log()

            # Instant Place
            AnchorLayout:
                SwitchButton:
                    size_hint: 1, 1
                    normal: 1, 1
                    press: 0.95, 0.95
                    source: "graphics/game_screen/instant_press_normal.png"
                    normal_image: "graphics/game_screen/instant_press_normal.png"
                    switch_image: "graphics/game_screen/instant_press_switched.png"

            # Return to Main Menu
            AnchorLayout:
                HoverButton:
                    size_hint: 1, 1
                    normal: 1, 1
                    hover: 1, 1
                    press: 0.95, 0.95
                    source: "graphics/game_screen/return_normal.png"
                    normal_image: "graphics/game_screen/return_normal.png"
                    hover_image: "graphics/game_screen/return_pressed.png"
                    pressed_image: "graphics/game_screen/return_pressed.png"
                    on_release:
                        app.root.current = "menu_screen"
                        app.root.restart()
                        app.root.transition.direction = "down"
