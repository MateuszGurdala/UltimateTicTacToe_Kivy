<AnchorLayout>
    anchor_y: "center"
    anchor_x: "center"

<SwitchButton>
    normal: 1, 1
    press: 0.9, 0.9
    source: "graphics/icons/icon_normal.png"
    normal_image: "graphics/icons/icon_normal.png"
    switch_image: "graphics/icons/icon_switch.png"
    disabled_image: "graphics/icons/icon_disabled.png"

<GameSettingsWindow>
    FloatLayout:
        canvas:
            Rectangle:
                size: self.size
                pos: self.pos
                source: "graphics/game_settings_screen/background_image.png"
        pos: self.parent.pos
        size: self.parent.size
############################################ CHOOSING ICONS ############################################################
        BoxLayout:
            size_hint: 1, 8/16
            pos_hint: {"x": 0, "y": 0}
            orientation: "horizontal"
            spacing: 0

            # Icons Player I
            BoxLayout:
                size_hint: 5/10, 1
                orientation: "vertical"

                # Icon display
                AnchorLayout:
                    size_hint: 1, 3/8
                    Image:
                        id: display_player
                        size_hint: 0.42, 0.7
                        source: "graphics/icons/icon_normal.png"
                        keep_ratio: False
                        allow_stretch: True

                AnchorLayout:
                    size_hint: 1, 5/8
                    BoxLayout:
                        size_hint: 0.9, 0.9
                        orientation: "vertical"
                        padding: 3

                        # Row I
                        BoxLayout:
                            size_hint: 1, 0.33
                            orientation: "horizontal"
                            AnchorLayout:
                                SwitchButton:
                                    id: player_1
                                    name: "player_1"
                                    source: "graphics/icons/circle_icon_normal.png"
                                    normal_image: "graphics/icons/circle_icon_normal.png"
                                    switch_image: "graphics/icons/circle_icon_switch.png"
                                    disabled_image: "graphics/icons/circle_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: player_2
                                    name: "player_2"
                                    source: "graphics/icons/cross_icon_normal.png"
                                    normal_image: "graphics/icons/cross_icon_normal.png"
                                    switch_image: "graphics/icons/cross_icon_switch.png"
                                    disabled_image: "graphics/icons/cross_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: player_3
                                    name: "player_3"
                                    source: "graphics/icons/triangle_icon_normal.png"
                                    normal_image: "graphics/icons/triangle_icon_normal.png"
                                    switch_image: "graphics/icons/triangle_icon_switch.png"
                                    disabled_image: "graphics/icons/triangle_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                        BoxLayout:
                            size_hint: 1, 0.33
                            orientation: "horizontal"
                            AnchorLayout:
                                SwitchButton:
                                    id: player_4
                                    name: "player_4"
                                    source: "graphics/icons/beer_icon_normal.png"
                                    normal_image: "graphics/icons/beer_icon_normal.png"
                                    switch_image: "graphics/icons/beer_icon_switch.png"
                                    disabled_image: "graphics/icons/beer_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: player_5
                                    name: "player_5"
                                    source: "graphics/icons/vodka_icon_normal.png"
                                    normal_image: "graphics/icons/vodka_icon_normal.png"
                                    switch_image: "graphics/icons/vodka_icon_switch.png"
                                    disabled_image: "graphics/icons/vodka_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)
                            AnchorLayout:
                                SwitchButton:
                                    id: player_6
                                    name: "player_6"
                                    source: "graphics/icons/wine_icon_normal.png"
                                    normal_image: "graphics/icons/wine_icon_normal.png"
                                    switch_image: "graphics/icons/wine_icon_switch.png"
                                    disabled_image: "graphics/icons/wine_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                        BoxLayout:
                            size_hint: 1, 0.33
                            orientation: "horizontal"
                            AnchorLayout:
                                SwitchButton:
                                    id: player_7
                                    name: "player_7"
                                    source: "graphics/icons/dog_icon_normal.png"
                                    normal_image: "graphics/icons/dog_icon_normal.png"
                                    switch_image: "graphics/icons/dog_icon_switch.png"
                                    disabled_image: "graphics/icons/dog_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: player_8
                                    name: "player_8"
                                    source: "graphics/icons/cat_icon_normal.png"
                                    normal_image: "graphics/icons/cat_icon_normal.png"
                                    switch_image: "graphics/icons/cat_icon_switch.png"
                                    disabled_image: "graphics/icons/cat_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: player_9
                                    name: "player_9"
                                    source: "graphics/icons/pigeon_icon_normal.png"
                                    normal_image: "graphics/icons/pigeon_icon_normal.png"
                                    switch_image: "graphics/icons/pigeon_icon_switch.png"
                                    disabled_image: "graphics/icons/pigeon_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)


            # Icons Player II
            BoxLayout:
                size_hint: 5/10, 1
                orientation: "vertical"

                # Icon display
                AnchorLayout:
                    size_hint: 1, 3/8
                    Image:
                        id: display_enemy
                        size_hint: 0.42, 0.7
                        source: "graphics/game_settings_screen/icon_button_normal.png"
                        keep_ratio: False
                        allow_stretch: True

                AnchorLayout:
                    size_hint: 1, 5/8
                    BoxLayout:
                        size_hint: 0.9, 0.9
                        orientation: "vertical"
                        padding: 3

                        # Row I
                        BoxLayout:
                            size_hint: 1, 0.33
                            orientation: "horizontal"
                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_1
                                    name: "enemy_1"
                                    source: "graphics/icons/circle_icon_normal.png"
                                    normal_image: "graphics/icons/circle_icon_normal.png"
                                    switch_image: "graphics/icons/circle_icon_switch.png"
                                    disabled_image: "graphics/icons/circle_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_2
                                    name: "enemy_2"
                                    source: "graphics/icons/cross_icon_normal.png"
                                    normal_image: "graphics/icons/cross_icon_normal.png"
                                    switch_image: "graphics/icons/cross_icon_switch.png"
                                    disabled_image: "graphics/icons/cross_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_3
                                    name: "enemy_3"
                                    source: "graphics/icons/triangle_icon_normal.png"
                                    normal_image: "graphics/icons/triangle_icon_normal.png"
                                    switch_image: "graphics/icons/triangle_icon_switch.png"
                                    disabled_image: "graphics/icons/triangle_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                        BoxLayout:
                            size_hint: 1, 0.33
                            orientation: "horizontal"
                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_4
                                    name: "enemy_4"
                                    source: "graphics/icons/beer_icon_normal.png"
                                    normal_image: "graphics/icons/beer_icon_normal.png"
                                    switch_image: "graphics/icons/beer_icon_switch.png"
                                    disabled_image: "graphics/icons/beer_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_5
                                    name: "enemy_5"
                                    source: "graphics/icons/vodka_icon_normal.png"
                                    normal_image: "graphics/icons/vodka_icon_normal.png"
                                    switch_image: "graphics/icons/vodka_icon_switch.png"
                                    disabled_image: "graphics/icons/vodka_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_6
                                    name: "enemy_6"
                                    source: "graphics/icons/wine_icon_normal.png"
                                    normal_image: "graphics/icons/wine_icon_normal.png"
                                    switch_image: "graphics/icons/wine_icon_switch.png"
                                    disabled_image: "graphics/icons/wine_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                        BoxLayout:
                            size_hint: 1, 0.33
                            orientation: "horizontal"
                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_7
                                    name: "enemy_7"
                                    source: "graphics/icons/dog_icon_normal.png"
                                    normal_image: "graphics/icons/dog_icon_normal.png"
                                    switch_image: "graphics/icons/dog_icon_switch.png"
                                    disabled_image: "graphics/icons/dog_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_8
                                    name: "enemy_8"
                                    source: "graphics/icons/cat_icon_normal.png"
                                    normal_image: "graphics/icons/cat_icon_normal.png"
                                    switch_image: "graphics/icons/cat_icon_switch.png"
                                    disabled_image: "graphics/icons/cat_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

                            AnchorLayout:
                                SwitchButton:
                                    id: enemy_9
                                    name: "enemy_9"
                                    source: "graphics/icons/pigeon_icon_normal.png"
                                    normal_image: "graphics/icons/pigeon_icon_normal.png"
                                    switch_image: "graphics/icons/pigeon_icon_switch.png"
                                    disabled_image: "graphics/icons/pigeon_icon_disabled.png"
                                    on_press: self.source = self.disabled_image
                                    on_release:
                                        app.root.game_settings_screen.switch_rest(self.name)
                                        app.root.set_player_sign(self.name)

############################################ CHOOSING GAME MODE ########################################################
        FloatLayout:
            size_hint: 1, 8/16
            pos_hint: {"x": 0, "y": 0.5}

            # Return Button
            AnchorLayout:
                size_hint: 0.2, 0.6
                pos_hint: {"x": 0.02, "y": 0.05}
                HoverButton:
                    source: "graphics/game_settings_screen/return_normal.png"
                    normal_image: "graphics/game_settings_screen/return_normal.png"
                    hover_image: self.normal_image
                    pressed_image: "graphics/game_settings_screen/return_pressed.png"
                    size_hint: 0.8, 0.24
                    normal: 0.8, 0.24
                    hover: 0.8, 0.24
                    press: 0.7, 0.21
                    on_press: self.click()
                    on_release:
                        self.release()
                        app.root.current = "menu_screen"
                        app.root.transition.direction = "right"

            # Player
            AnchorLayout:
                size_hint: 0.4, 0.25
                pos_hint: {"x": 0.55, "y": 0.4}
                Image:
                    source: "graphics/game_mode_spinner/base0_pressed.png"
                    keep_ratio: False
                    allow_stretch: True

            # Enemy
            AnchorLayout:
                size_hint: 0.4, 0.25
                pos_hint: {"x": 0.55, "y": 0.1}
                CustomSpinner

